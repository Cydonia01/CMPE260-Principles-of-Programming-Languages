# Principles of Programming Languages

This repository contains two major projects for the course CMPE260, focusing on logical and functional programming paradigms:

- **Project 1: Farm Simulator (Prolog)**
- **Project 2: Memory Management Unit (Racket)**

---

## Project 1: Farm Simulator (Prolog)

### Overview

The Farm Simulator is a grid-based simulation implemented in Prolog. The farm consists of a grid of cells, each of which can be empty, contain a plant, or contain an animal. Animals can move, eat, and reproduce according to defined rules. The simulation supports herbivores (cows, chickens), carnivores (wolves), and various plants (grass, grain, corn).

#### Example Farm Layout

```
..........  (10x6 grid)
W...F.....
..G.....C.
..........
.H...M..G.
..........
```

Legend: W=Wolf, F=Grain, G=Grass, C=Chicken, H=Chicken, M=Corn, .=Empty

### Main Features

- **Agent and Object Management:** Animals and plants are stored in dictionaries (`Agents`, `Objects`).
- **Simulation State:** The state is represented as `[Agents, Objects, Time, TurnOrder]`.
- **Movement and Actions:** Animals can move in various directions, eat, and reproduce if they have enough energy.
- **Predicates:**
  - `agents_distance/3`: Manhattan distance between two agents.
  - `number_of_agents/2`: Counts agents in the farm.
  - `value_of_farm/2`: Calculates the total value of the farm.
  - `find_food_coordinates/3`: Finds coordinates of edible food for an agent.
  - `find_nearest_agent/4`: Finds the nearest agent to a given agent.
  - `find_nearest_food/5`: Finds the nearest food to a given agent.
  - `move_to_coordinate/6`: Moves an agent to a coordinate if possible.
  - `move_to_nearest_food/5`: Moves an agent to the nearest food.
  - `consume_all/6`: Agent consumes all reachable food, reproducing if possible.

### File Structure

- `main.pro`: Main logic and predicates for simulation.
- `cmpefarm.pro`: Movement, eating, reproduction, and state management predicates.
- `farm.pro`: Definitions of objects, animals, food, and their properties.
- `farm.txt`, `smallfarm.txt`: Example farm maps.
- `README.md`: Project documentation.

### How to Run

1. Install [SWI-Prolog](https://www.swi-prolog.org/).
2. Open a terminal in the `Farm Simulator` directory.
3. Run:
   ```bash
   swipl main.pro
   ```
4. Use queries such as:
   ```prolog
   ?- state(Agents, Objects, Time, TurnOrder), State=[Agents, Objects, Time, TurnOrder], number_of_agents(State, N).
   ```

---

## Project 2: Memory Management Unit (Racket)

### Overview

This project simulates a Memory Management Unit (MMU) in Racket (Scheme). The MMU translates logical (virtual) addresses generated by the CPU to physical addresses, supporting both relocation and paging mechanisms.

### Main Features

- **Relocation Register:** Maps logical addresses to physical addresses using base and limit registers.
- **Paging:** Splits logical addresses into page number and offset, maps via a page table.
- **Hashed Page Table:** Uses a hash function and page table for address translation.
- **Mathematical Utilities:** Includes binary-to-decimal conversion and sine calculation via Taylor series.

### Key Procedures

- `(binary_to_decimal binary)`: Converts binary to decimal.
- `(relocator args limit base)`: Maps logical addresses to physical addresses.
- `(divide_address_space num page_size)`: Splits address into page number and offset.
- `(page args page_table page_size)`: Maps logical addresses using a page table.
- `(find_sin value num)`: Calculates sine using Taylor series.
- `(myhash arg table_size)`: Hash function for page numbers.
- `(hashed_page arg table_size page_table page_size)`: Address translation using hashed page table.
- `(split_addresses args size)`: Splits a stream of addresses.
- `(map_addresses args table_size page_table page_size address_space_size)`: Maps a stream of addresses using hashed page table.

### File Structure

- `main.rkt`: All Racket code and procedures.
- `README.md`: Project documentation.

### How to Run

1. Install [Racket](https://racket-lang.org/) and open DrRacket or use the command line.
2. Open `main.rkt` in DrRacket and click Run, or run in terminal:
   ```bash
   racket main.rkt
   ```
3. Test procedures, e.g.:
   ```racket
   (find_sin 45 5)
   ```

---

## Directory Structure

```
CMPE260/
│
├── Farm Simulator/
│   ├── cmpefarm.pro
│   ├── farm.pro
│   ├── farm.txt
│   ├── main.pro
│   ├── README.md
│   └── smallfarm.txt
│
└── Memory Management Unit/
	 ├── main.rkt
	 └── README.md
```
